import{a as d}from"./chunk-VHTBEU7Y.js";import{c as x,d as N,g as A,h as L,j as E,k as R,m as V,n as D,o as j,p as B}from"./chunk-EQG5L6AV.js";import{$a as p,Ca as y,Ha as _,Oa as u,Pa as O,Qa as I,R as s,Ra as i,Sa as a,Ta as l,Ua as k,X as C,Xa as c,Y as S,Ya as h,Za as T,fb as g,gb as v,kb as b,ra as M,ta as m}from"./chunk-VEP5YUMW.js";var U=(e,o)=>{let t=s(d).getToken();if(t){let r=e.clone({headers:e.headers.set("Authorization",`Bearer ${t}`)});return o(r)}return o(e)};var f=(e,o)=>{let n=s(d),t=s(D);return n.isAuthenticated()?!0:(t.navigate(["/login"],{queryParams:{returnUrl:o.url}}),!1)};var $=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-2FBVZU4C.js").then(e=>e.HomeComponent),canActivate:[f]},{path:"login",loadComponent:()=>import("./chunk-7A3LAPP7.js").then(e=>e.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-7JEW4UWP.js").then(e=>e.RegisterComponent)},{path:"logout",loadComponent:()=>import("./chunk-J4HOWPBV.js").then(e=>e.LogoutComponent),canActivate:[f]},{path:"support",loadComponent:()=>import("./chunk-KVZUSJM5.js").then(e=>e.SupportComponent)},{path:"download",loadComponent:()=>import("./chunk-7RSBD3QQ.js").then(e=>e.DownloadComponent)},{path:"privacy",loadComponent:()=>import("./chunk-JEHPRW43.js").then(e=>e.PrivacyComponent)},{path:"terms",loadComponent:()=>import("./chunk-HW3ULTFV.js").then(e=>e.TermsComponent)},{path:"user/:usernameSlug/account",loadComponent:()=>import("./chunk-KTYHAOJQ.js").then(e=>e.AccountComponent),canActivate:[f]},{path:"user/:usernameSlug",loadComponent:()=>import("./chunk-Q4NIXZ6Y.js").then(e=>e.UserComponent),canActivate:[f]},{path:"user/:usernameSlug/playlist/:playlistSlug",loadComponent:()=>import("./chunk-O5U6HLIO.js").then(e=>e.PlaylistComponent),canActivate:[f]},{path:"artist/releases/new",loadComponent:()=>import("./chunk-X33OLQIV.js").then(e=>e.NewComponent),canActivate:[f]},{path:"**",redirectTo:"/"}];var F={providers:[b({eventCoalescing:!0}),B($),E(R([U]))]};function G(e,o){if(e&1){let n=k();i(0,"li")(1,"a",13),c("click",function(){C(n);let r=h();return S(r.closeNav())}),l(2,"img",14),i(3,"span"),p(4,"Account"),a()()()}if(e&2){let n=h();m(),T("routerLink","user/",n.getUsername(),"/account/")}}function Z(e,o){if(e&1){let n=k();i(0,"li")(1,"a",15),c("click",function(){C(n);let r=h();return S(r.toggleNav())}),l(2,"img",16),i(3,"span"),p(4,"Logout"),a()()()}}function J(e,o){if(e&1){let n=k();i(0,"li")(1,"a",17),c("click",function(){C(n);let r=h();return S(r.toggleNav())}),l(2,"img",18),i(3,"span"),p(4,"Login"),a()()()}}function K(e,o){if(e&1){let n=k();i(0,"li")(1,"a",19),c("click",function(){C(n);let r=h();return S(r.toggleNav())}),l(2,"img",20),i(3,"span"),p(4,"Register"),a()()()}}var P=class e{navOpen=!1;authService=s(d);get navIconSrc(){return this.navOpen?"/svg/icon-close.svg":"/svg/icon-settings.svg"}get navIconAlt(){return this.navOpen?"Close Icon":"Menu Icon"}toggleNav(){this.navOpen=!this.navOpen}closeNav(){this.navOpen=!1}getUsername(){let o=this.authService.getCurrentUser();return o?o.username:""}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=y({type:e,selectors:[["app-nav"]],decls:31,vars:17,consts:[["id","nav_main"],["id","nav_bar"],["id","nav_logo","routerLink","/",3,"click"],["id","nav_toggle",3,"click"],[3,"src","alt"],["id","nav_items"],[1,"nav-list"],[4,"ngIf"],[1,"rule"],["routerLink","/support/",1,"nav-link",3,"click"],["routerLink","/download/",1,"nav-link",3,"click"],["routerLink","/privacy/",1,"nav-link",3,"click"],["routerLink","/terms/",1,"nav-link",3,"click"],[1,"nav-link",3,"click","routerLink"],["alt","Account Icon","src","/svg/icon-account-square.svg",1,"icon"],["routerLink","/logout",1,"nav-link",3,"click"],["alt","Profile Icon","src","/svg/icon-logout.svg",1,"icon"],["routerLink","/login",1,"nav-link",3,"click"],["alt","Login Icon","src","/svg/icon-account-square.svg",1,"icon"],["routerLink","/register",1,"nav-link",3,"click"],["alt","Register Icon","src","/svg/icon-account-square.svg",1,"icon"]],template:function(n,t){n&1&&(i(0,"nav",0)(1,"div",1)(2,"a",2),c("click",function(){return t.closeNav()}),i(3,"h1"),p(4,"BLARE"),a()(),i(5,"button",3),c("click",function(){return t.toggleNav()}),l(6,"img",4),a()(),i(7,"div",5)(8,"ul",6),_(9,G,5,2,"li",7),g(10,"async"),_(11,Z,5,0,"li",7),g(12,"async"),_(13,J,5,0,"li",7),g(14,"async"),_(15,K,5,0,"li",7),g(16,"async"),a(),l(17,"hr",8),i(18,"ul",6)(19,"li")(20,"a",9),c("click",function(){return t.toggleNav()}),p(21,"Support"),a()(),i(22,"li")(23,"a",10),c("click",function(){return t.toggleNav()}),p(24,"Download"),a()(),i(25,"li")(26,"a",11),c("click",function(){return t.toggleNav()}),p(27,"Privacy"),a()(),i(28,"li")(29,"a",12),c("click",function(){return t.toggleNav()}),p(30,"Terms"),a()()()()()),n&2&&(I(t.navOpen?"open":""),m(6),u("src",t.navIconSrc,M)("alt",t.navIconAlt),m(3),u("ngIf",v(10,9,t.authService.isAuthenticated$)),m(2),u("ngIf",v(12,11,t.authService.isAuthenticated$)),m(2),u("ngIf",!v(14,13,t.authService.isAuthenticated$)),m(2),u("ngIf",!v(16,15,t.authService.isAuthenticated$)))},dependencies:[j,A,x,N],styles:["#nav_main[_ngcontent-%COMP%]{position:sticky;top:0;right:0;z-index:50}#nav_bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;border-bottom:#ffd700 2px solid}#nav_logo[_ngcontent-%COMP%]{padding:1rem}#nav_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem;margin:0}#nav_logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#ffde59;text-decoration:none;text-transform:uppercase}#nav_logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:100}#nav_toggle[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;padding:1rem;background:transparent;border:none}#nav_items[_ngcontent-%COMP%]{height:0px;overflow:hidden;transition:height .3s ease-in-out;position:absolute;top:58px;right:0;left:0;background:#242424;box-shadow:2px 0 1rem #0000001a}.open[_ngcontent-%COMP%]   #nav_items[_ngcontent-%COMP%]{height:initial;padding:1rem 0}.nav-list[_ngcontent-%COMP%]{margin:0;padding:0}.nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;width:100%}.nav-link[_ngcontent-%COMP%]{padding:.5rem 1rem;text-decoration:none;color:#f1f1f1;display:flex;font-weight:100;display:inline-flex;align-items:center;justify-content:start;width:100%}.nav-link[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:.5rem;display:block}"]})};function Q(e,o){e&1&&l(0,"app-nav")}var w=class e{title="client";authService=s(d);static \u0275fac=function(n){return new(n||e)};static \u0275cmp=y({type:e,selectors:[["app-root"]],decls:6,vars:7,consts:[[1,"app-container"],[4,"ngIf"],[1,"content"]],template:function(n,t){n&1&&(i(0,"div",0),g(1,"async"),_(2,Q,1,0,"app-nav",1),g(3,"async"),i(4,"main",2),l(5,"router-outlet"),a()()),n&2&&(O("authenticated",v(1,3,t.authService.isAuthenticated$)),m(2),u("ngIf",v(3,5,t.authService.isAuthenticated$)))},dependencies:[V,P,A,x,N],styles:[".app-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;border-top:#ffd700 2px solid}.app-container.authenticated[_ngcontent-%COMP%]{border:none}"]})};L(w,F).catch(e=>console.error(e));
